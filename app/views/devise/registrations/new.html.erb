

<h2>Sign up</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <%= render "devise/shared/error_messages", resource: resource %>

  <div class="field">
    <%= f.label :email %><br />
    <%= f.email_field :email, autofocus: true, autocomplete: "email" %>
  </div>

    <div class="field">
    <%= f.label :first_name %> <br />
    <%= f.text_field :first_name, autocomplete: "first name" %>
  </div>

  <div class="field">
    <%= f.label :last_name %> <br />
    <%= f.text_field :last_name, autocomplete: "last name" %>
  </div>
  
  <div class="field">
    <%= f.label :phone_number %> <br />
    <%= f.text_field :phone_number, autocomplete: "phone number"%>
  </div>



  <div class="field">
    <%= f.label :password %>
    <% if @minimum_password_length %>
    <span class="password-min" >
    <em>(<%= @minimum_password_length %> characters minimummm)</em></span>
    <% end %><br />
    <%= f.password_field :password, autocomplete: "new-password" %>
  </div>
    <div class="field">
      <%= f.label :password_confirmation %><br />
      <%= f.password_field :password_confirmation, autocomplete: "new-password" %>
    </div>
   <div class="field terms">
    
     
      <%= f.check_box :terms, required: true, class:"m-auto" %>
      <%= f.label :terms, "I agree to the terms and conditions", class:"label" %>
      <button type="button" id="modalButton"class="" data-toggle="modal" data-target="#termsModal" onClick="toggleModal()">
        Read Terms and Conditions
      </button>
    </div>

        <!-- Button trigger modal -->

    <!-- Modal -->
    <div class="modal-hidden" id="termsModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalLabel">User Terms and Conditions</h5>
            <button type="button" onClick="toggleModal()" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p>The user assumes all responsibility and risk for the use of this website/webapp and the Internet generally. We accept no liability or responsibility to any person as a consequence of any reliance upon the information contained in this site. Under no circumstances, including negligence, shall anyone involved in creating or maintaining this web app/ website be liable for any direct, indirect, incidental, special or consequential damages, or loss profits that result from the use or inability to use the website/webapp and/or nay other websites which are linked to this site/app. Nor shall they be liable for any such damages including, but not limited to, reliance by a member or visitor on any information obtained via the website; or that result from mistakes, omissions, interruptions, deletion of files, viruses, errors, defects, or failure of performance, communications failure, theft, destruction or unauthorized access. States or Countries which do not allow some or all of the above limitations of liability, liability shall be limited to the greatest extend allowed by law. </p>
          </div>
          <div class="modal-footer">
            <button onClick="toggleModal()" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <%# <button type="button" class="btn btn-primary">Save changes</button> %>
          </div>
        </div>
      </div>
    </div>
    <div class="field bg-info p-4">
      <%= f.check_box :remember_me %>
      <%= f.label :remember_me, :checked => true %>
    </div>
    <div class="field bg-info p-4">
      <%= f.check_box :email_consent, required: true, checked: 'true', class:'m-auto' %>
      <%= f.label :I_consent_to_receive_email_messages %>
    </div>


    <div class="actions mt-3">
      <%= f.submit "Sign up" %>
    </div>
  <% end %>


<%= render "devise/shared/links" %>
<%= javascript_pack_tag 'terms-modal' %>
<%# 
<script>

var termsModal = document.getElementById("termsModal");

function toggleModal() {
  termsModal.toggle
  if (termsModal.classList) {
    termsModal.classList.toggle("modal-hidden");    
    termsModal.classList.toggle("modal-visiblel");
  } else {
    console.log('!termsModal.classList')
  }
}

</script> %>